<!DOCTYPE HTML>
<html lang="en" class="sidebar-visible no-js light">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Working with files - learn-rust</title>


        <!-- Custom HTML head -->
        
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

        <link rel="icon" href="../favicon.svg">
        <link rel="shortcut icon" href="../favicon.png">
        <link rel="stylesheet" href="../css/variables.css">
        <link rel="stylesheet" href="../css/general.css">
        <link rel="stylesheet" href="../css/chrome.css">
        <link rel="stylesheet" href="../css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="../FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="../fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="../highlight.css">
        <link rel="stylesheet" href="../tomorrow-night.css">
        <link rel="stylesheet" href="../ayu-highlight.css">

        <!-- Custom theme stylesheets -->

    </head>
    <body>
    <div id="body-container">
        <!-- Provide site root to javascript -->
        <script>
            var path_to_root = "../";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script>
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script>
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script>
            var html = document.querySelector('html');
            var sidebar = null;
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            } else {
                sidebar = 'hidden';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded affix "><a href="../index.html">Introduction</a></li><li class="chapter-item expanded "><a href="../chapter_1/first_of_all.html"><strong aria-hidden="true">1.</strong> First of all</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../chapter_1/prerequisites.html"><strong aria-hidden="true">1.1.</strong> Prerequisites</a></li><li class="chapter-item expanded "><a href="../chapter_1/installing.html"><strong aria-hidden="true">1.2.</strong> Installation</a></li><li class="chapter-item expanded "><a href="../chapter_1/problems.html"><strong aria-hidden="true">1.3.</strong> Problems occur</a></li></ol></li><li class="chapter-item expanded "><a href="../tour/drumroll.html"><strong aria-hidden="true">2.</strong> Tour de Rust</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../tour/simple_variables.html"><strong aria-hidden="true">2.1.</strong> Simple variables</a></li><li class="chapter-item expanded "><a href="../tour/complex_types.html"><strong aria-hidden="true">2.2.</strong> Complex types</a></li><li class="chapter-item expanded "><a href="../tour/methods_on_types.html"><strong aria-hidden="true">2.3.</strong> Methods on types</a></li><li class="chapter-item expanded "><a href="../tour/options.html"><strong aria-hidden="true">2.4.</strong> Options</a></li><li class="chapter-item expanded "><a href="../tour/result.html"><strong aria-hidden="true">2.5.</strong> Result</a></li><li class="chapter-item expanded "><a href="../tour/if_let.html"><strong aria-hidden="true">2.6.</strong> if let</a></li><li class="chapter-item expanded "><a href="../tour/match.html"><strong aria-hidden="true">2.7.</strong> match</a></li><li class="chapter-item expanded "><a href="../tour/ownership.html"><strong aria-hidden="true">2.8.</strong> Ownership</a></li><li class="chapter-item expanded "><a href="../tour/errors.html"><strong aria-hidden="true">2.9.</strong> Error handling</a></li><li class="chapter-item expanded "><a href="../tour/user_input.html"><strong aria-hidden="true">2.10.</strong> User input</a></li><li class="chapter-item expanded "><a href="../tour/argv.html"><strong aria-hidden="true">2.11.</strong> Command line arguments</a></li><li class="chapter-item expanded "><a href="../tour/functions.html"><strong aria-hidden="true">2.12.</strong> Functions</a></li><li class="chapter-item expanded "><a href="../tour/loops.html"><strong aria-hidden="true">2.13.</strong> Loops</a></li><li class="chapter-item expanded "><a href="../tour/if_else.html"><strong aria-hidden="true">2.14.</strong> if, else if, else</a></li><li class="chapter-item expanded "><a href="../tour/mut_variables.html"><strong aria-hidden="true">2.15.</strong> On variables and mutability</a></li><li class="chapter-item expanded "><a href="../tour/generic_types.html"><strong aria-hidden="true">2.16.</strong> Generic types</a></li><li class="chapter-item expanded "><a href="../tour/traits.html"><strong aria-hidden="true">2.17.</strong> Traits</a></li><li class="chapter-item expanded "><a href="../tour/testing.html"><strong aria-hidden="true">2.18.</strong> Testing code</a></li><li class="chapter-item expanded "><a href="../tour/iterators.html"><strong aria-hidden="true">2.19.</strong> Iterators</a></li><li class="chapter-item expanded "><a href="../tour/closures.html"><strong aria-hidden="true">2.20.</strong> Closures</a></li><li class="chapter-item expanded "><a href="../tour/smart_pointers.html"><strong aria-hidden="true">2.21.</strong> Intelligent pointers</a></li><li class="chapter-item expanded "><a href="../tour/public.html"><strong aria-hidden="true">2.22.</strong> Public</a></li><li class="chapter-item expanded "><a href="../tour/mod.html"><strong aria-hidden="true">2.23.</strong> mod</a></li><li class="chapter-item expanded "><a href="../tour/files.html" class="active"><strong aria-hidden="true">2.24.</strong> Working with files</a></li></ol></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky bordered">
                    <div class="left-buttons">
                        <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </button>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">learn-rust</h1>

                    <div class="right-buttons">
                        <a href="../print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script>
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="working-with-files"><a class="header" href="#working-with-files">Working with files</a></h1>
<p>Working with files in Rust involves using the standard library's <code>std::fs</code> module, which provides functions and types for file operations. Here are some examples of common file operations in Rust:</p>
<ol>
<li>Reading a File:</li>
</ol>
<pre><pre class="playground"><code class="language-rust">use std::fs::File;
use std::io::Read;

fn main() {
    let mut file = File::open(&quot;path/to/file.txt&quot;).expect(&quot;Failed to open file&quot;);
    let mut contents = String::new();
    file.read_to_string(&amp;mut contents).expect(&quot;Failed to read file&quot;);
    println!(&quot;File contents: {}&quot;, contents);
}</code></pre></pre>
<p>In this example, we open a file using <code>File::open</code> and read its contents into a <code>String</code> using <code>read_to_string</code>. The file path is specified as a string in the <code>open</code> function.</p>
<ol start="2">
<li>Writing to a File:</li>
</ol>
<pre><pre class="playground"><code class="language-rust">use std::fs::File;
use std::io::Write;

fn main() {
    let mut file = File::create(&quot;path/to/file.txt&quot;).expect(&quot;Failed to create file&quot;);
    file.write_all(b&quot;Hello, world!&quot;).expect(&quot;Failed to write to file&quot;);
}</code></pre></pre>
<p>In this example, we create a file using <code>File::create</code> and write data to it using <code>write_all</code>. The data to be written is specified as a byte slice (<code>b&quot;Hello, world!&quot;</code>).</p>
<ol start="3">
<li>Appending to a File:</li>
</ol>
<pre><pre class="playground"><code class="language-rust">use std::fs::OpenOptions;
use std::io::Write;

fn main() {
    let mut file = OpenOptions::new()
        .append(true)
        .open(&quot;path/to/file.txt&quot;)
        .expect(&quot;Failed to open file for appending&quot;);
    file.write_all(b&quot;New content&quot;).expect(&quot;Failed to append to file&quot;);
}</code></pre></pre>
<p>In this example, we open a file in append mode using <code>OpenOptions</code> and the <code>append</code> method. We then write data to the file using <code>write_all</code>, which appends the data to the existing content.</p>
<ol start="4">
<li>Deleting a File:</li>
</ol>
<pre><pre class="playground"><code class="language-rust">use std::fs;

fn main() {
    fs::remove_file(&quot;path/to/file.txt&quot;).expect(&quot;Failed to delete file&quot;);
}</code></pre></pre>
<p>In this example, we use the <code>remove_file</code> function from the <code>std::fs</code> module to delete a file. The file path is specified as a string.</p>
<p>These are just a few examples of working with files in Rust. The <code>std::fs</code> module provides additional functions and types for file operations, such as renaming files, creating directories, reading metadata, and more. You can refer to the Rust documentation for more details on file-related operations: <a href="https://doc.rust-lang.org/std/fs/index.html">std::fs - Rust Documentation</a></p>
<p>Sure. Here are some examples of how to work with files in Rust:</p>
<ul>
<li><strong>Opening a file:</strong> To open a file, you can use the <code>File::open()</code> method. This method takes a path to the file as an argument and returns a <code>File</code> object. For example:</li>
</ul>
<pre><pre class="playground"><code class="language-rust">use std::fs::File;

fn main() {
  let file = File::open(&quot;my_file.txt&quot;).unwrap();
}</code></pre></pre>
<p>The <code>unwrap()</code> method will panic if the file could not be opened.</p>
<ul>
<li><strong>Reading from a file:</strong> To read from a file, you can use the <code>read()</code> method. This method takes a buffer as an argument and reads data from the file into the buffer. For example:</li>
</ul>
<pre><pre class="playground"><code class="language-rust">use std::fs::File;
use std::io::Read;

fn main() {
  let mut file = File::open(&quot;my_file.txt&quot;).unwrap();
  let mut buffer = Vec::new();
  file.read(&amp;mut buffer).unwrap();

  println!(&quot;{}&quot;, buffer);
}</code></pre></pre>
<p>The <code>Vec::new()</code> method creates a new vector of bytes. The <code>file.read(&amp;mut buffer)</code> method reads data from the file into the buffer. The <code>unwrap()</code> method will panic if the file could not be read.</p>
<ul>
<li><strong>Writing to a file:</strong> To write to a file, you can use the <code>write()</code> method. This method takes a buffer as an argument and writes the data from the buffer to the file. For example:</li>
</ul>
<pre><pre class="playground"><code class="language-rust">use std::fs::File;
use std::io::Write;

fn main() {
  let mut file = File::create(&quot;my_file.txt&quot;).unwrap();
  file.write(b&quot;Hello, world!&quot;).unwrap();
}</code></pre></pre>
<p>The <code>File::create()</code> method creates a new file if it does not exist. The <code>file.write(b&quot;Hello, world!&quot;)</code> method writes the string &quot;Hello, world!&quot; to the file. The <code>unwrap()</code> method will panic if the file could not be written to.</p>
<ul>
<li><strong>Closing a file:</strong> When you are finished with a file, you should close it using the <code>close()</code> method. This method ensures that the file is properly closed and that any resources associated with the file are released. For example:</li>
</ul>
<pre><pre class="playground"><code class="language-rust">use std::fs::File;
use std::io::Read;

fn main() {
  let mut file = File::open(&quot;my_file.txt&quot;).unwrap();
  let mut buffer = Vec::new();
  file.read(&amp;mut buffer).unwrap();

  println!(&quot;{}&quot;, buffer);

  file.close().unwrap();
}</code></pre></pre>
<p>The <code>file.close()</code> method closes the file. The <code>unwrap()</code> method will panic if the file could not be closed.</p>
<p>Here are some additional resources that you may find helpful:</p>
<ul>
<li>The Rust File I/O Guide: https://doc.rust-lang.org/std/fs/index.html</li>
<li>The Rust io crate: https://doc.rust-lang.org/std/io/index.html</li>
</ul>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                            <a rel="prev" href="../tour/mod.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>


                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                    <a rel="prev" href="../tour/mod.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>

            </nav>

        </div>




        <script>
            window.playground_copyable = true;
        </script>


        <script src="../elasticlunr.min.js"></script>
        <script src="../mark.min.js"></script>
        <script src="../searcher.js"></script>

        <script src="../clipboard.min.js"></script>
        <script src="../highlight.js"></script>
        <script src="../book.js"></script>

        <!-- Custom JS scripts -->


    </div>
    </body>
</html>
